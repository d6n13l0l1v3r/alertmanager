{{ define "alert_list" }}
{{ range . }}
  {{- if eq .Labels.severity "critical" }}
    🚨 CRITICAL 🚨
  {{- end }}
  {{- if eq .Labels.severity "warning" }}
    ⚠️ WARNING ⚠️
  {{- end }}
  {{- if .Annotations.summary }}
    {{ .Annotations.summary }}
  {{- end }}
  {{- if .Annotations.description }}
    {{ .Annotations.description }}
  {{- end }}
{{ end }}
{{ end }}

{{ define "alert.message" }}
  {{ if gt (len .Alerts.Firing) 0 }}
    {{ template "alert_list" .Alerts.Firing }}
  {{ end }}
  {{ if gt (len .Alerts.Resolved) 0 }}
    ✅ Alerts Resolved ✅
    {{ template "alert_list" .Alerts.Resolved }}
  {{ end }}
{{ end }}

